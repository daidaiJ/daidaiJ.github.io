<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='gpu æµ‹è¯•è„šæœ¬ å› ä¸ºé¡¹ç›®èƒŒæ™¯éœ€æ±‚ï¼Œç»å¸¸æµ‹è¯•k8s pod æˆ–è€…job ç›‘æ§çš„gpu æ˜¾å­˜ï¼Œä½¿ç”¨ç‡ç›¸å…³æŒ‡æ ‡ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå·¥å…·è„šæœ¬\nè„šæœ¬å†…å®¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 import argparse import time import random import sys import torch def main(): parser = argparse.ArgumentParser(description="gpu è´Ÿè½½æµ‹è¯•è„šæœ¬") parser.add_argument("--mem-gb", type=float, required=True, help="ç›®æ ‡æ˜¾å­˜å ç”¨(GB)") # ä¸ºdurationæ·»åŠ é»˜è®¤å€¼60ç§’ï¼Œä¸å†å¼ºåˆ¶å¿…å¡« parser.add_argument( "--duration", type=int, default=300, help="æŒç»­æ—¶é—´(ç§’)ï¼Œé»˜è®¤300ç§’" ) args = parser.parse_args() # åŸºç¡€æ£€æŸ¥ if not torch.cuda.is_available(): raise RuntimeError("æœªæ£€æµ‹åˆ°CUDA GPU") torch.cuda.empty_cache() device = torch.device("cuda") # 1. ç²¾å‡†è®¡ç®—å¼ é‡å½¢çŠ¶ï¼ˆæŒ‰å­—èŠ‚çº§æ§åˆ¶æ˜¾å­˜ï¼‰ dtype = torch.float32 # å›ºå®šfloat32ï¼Œæ¯å…ƒç´ 4å­—èŠ‚ï¼Œç®€åŒ–é€»è¾‘ elem_bytes = 4 target_bytes = int(args.mem_gb * 1024 * 1024 * 1024) # ç›®æ ‡æ˜¾å­˜è½¬å­—èŠ‚ total_elems = target_bytes // elem_bytes # ç”Ÿæˆ2Då¼ é‡å½¢çŠ¶ï¼ˆä¿è¯æ€»å…ƒç´ æ•°åŒ¹é…ç›®æ ‡æ˜¾å­˜ï¼‰ dim = int(total_elems**0.5) shape = (dim, dim) actual_mem_gb = (dim * dim * elem_bytes) / (1024**3) # 2. åˆ†é…å¼ é‡ï¼ˆç¦ç”¨æ¢¯åº¦ï¼Œæ— è®¡ç®—å›¾ï¼Œä»…å æ˜¾å­˜ï¼‰ tensor = torch.randn(shape, dtype=dtype, device=device, requires_grad=False) # æ ¡éªŒæ˜¾å­˜å ç”¨ allocated_mem_gb = torch.cuda.memory_allocated(device) / (1024**3) print(f"=== åˆå§‹åŒ– ===") print(f"ç›®æ ‡æ˜¾å­˜: {args.mem_gb}GB | å®é™…å ç”¨: {allocated_mem_gb:.4f}GB") print(f"å¼ é‡å½¢çŠ¶: {shape} | æŒç»­è®¡ç®—: {args.duration}ç§’\\n") # 3. æ ¸å¿ƒï¼šåŸåœ°è®¡ç®—æ¶ˆè€—GPUç®—åŠ›ï¼ˆæ— é¢å¤–æ˜¾å­˜å ç”¨ï¼‰ start_time = time.time() try: while time.time() - start_time < args.duration: # åŸåœ°è¿ç®—ï¼ˆæ‰€æœ‰æ“ä½œå‡åœ¨åŸå¼ é‡æ‰§è¡Œï¼Œä¸æ–°å¢æ˜¾å­˜ï¼‰ tensor.add_(random.uniform(0.01, 0.1)) # åŸåœ°åŠ  tensor.mul_(random.uniform(0.9, 1.1)) # åŸåœ°ä¹˜ tensor.sin_() # åŸåœ°æ­£å¼¦ tensor.cos_() # åŸåœ°ä½™å¼¦ torch.cuda.synchronize() # ç¡®ä¿è®¡ç®—å®Œæˆ # æ‰“å°çŠ¶æ€ï¼ˆè¦†ç›–å¼è¾“å‡ºï¼‰ elapsed = int(time.time() - start_time) remaining = max(0, args.duration - elapsed) print( f"å‰©ä½™æ—¶é—´: {remaining:3d}ç§’ | æ˜¾å­˜å ç”¨: {allocated_mem_gb:.4f}GB", end="\\r", ) time.sleep(0.001) # å¾®è°ƒç®—åŠ›å¼ºåº¦ï¼ˆè¶Šå°ç®—åŠ›è¶Šé«˜ï¼‰ except KeyboardInterrupt: print("\\n\\nâš ï¸ æ‰‹åŠ¨ç»ˆæ­¢") finally: # ========== æ ¸å¿ƒï¼šä»…åœ¨é€€å‡ºæ—¶å¼ºåˆ¶flushæ‰€æœ‰è¾“å‡º ========== print("\\n", flush=True) sys.stdout.flush() # æ¸…ç†æ˜¾å­˜ del tensor torch.cuda.empty_cache() final_mem = torch.cuda.memory_allocated(device) / (1024**3) print(f"\\n=== ç»“æŸ ===") print(f"é‡Šæ”¾åæ˜¾å­˜: {final_mem:.4f}GB") if __name__ == "__main__": main() ä½¿ç”¨æ–¹å¼å°±æ˜¯å®¹å™¨æœ‰pytorch ä¾èµ–ï¼Œè°ƒç”¨æ—¶å¦‚ä¸‹:\npython3 gpu_test.py --mem-gb 1 æ¥æ„é€ ä¸€ä¸ª1GB é»˜è®¤5åˆ†é’Ÿçš„gpu è®¡ç®—ä»»åŠ¡\n'><title>Gpu test python script </title><link rel=canonical href=https://daidaij.github.io/p/gpu-test-python-script/><link rel=stylesheet href=/scss/style.min.f4530563ffe469e7b62988cf769bf39105a21ae2e978535a26077bc7f29c73d7.css><meta property='og:title' content="Gpu test python script  "><meta property='og:description' content='gpu æµ‹è¯•è„šæœ¬ å› ä¸ºé¡¹ç›®èƒŒæ™¯éœ€æ±‚ï¼Œç»å¸¸æµ‹è¯•k8s pod æˆ–è€…job ç›‘æ§çš„gpu æ˜¾å­˜ï¼Œä½¿ç”¨ç‡ç›¸å…³æŒ‡æ ‡ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå·¥å…·è„šæœ¬\nè„šæœ¬å†…å®¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 import argparse import time import random import sys import torch def main(): parser = argparse.ArgumentParser(description="gpu è´Ÿè½½æµ‹è¯•è„šæœ¬") parser.add_argument("--mem-gb", type=float, required=True, help="ç›®æ ‡æ˜¾å­˜å ç”¨(GB)") # ä¸ºdurationæ·»åŠ é»˜è®¤å€¼60ç§’ï¼Œä¸å†å¼ºåˆ¶å¿…å¡« parser.add_argument( "--duration", type=int, default=300, help="æŒç»­æ—¶é—´(ç§’)ï¼Œé»˜è®¤300ç§’" ) args = parser.parse_args() # åŸºç¡€æ£€æŸ¥ if not torch.cuda.is_available(): raise RuntimeError("æœªæ£€æµ‹åˆ°CUDA GPU") torch.cuda.empty_cache() device = torch.device("cuda") # 1. ç²¾å‡†è®¡ç®—å¼ é‡å½¢çŠ¶ï¼ˆæŒ‰å­—èŠ‚çº§æ§åˆ¶æ˜¾å­˜ï¼‰ dtype = torch.float32 # å›ºå®šfloat32ï¼Œæ¯å…ƒç´ 4å­—èŠ‚ï¼Œç®€åŒ–é€»è¾‘ elem_bytes = 4 target_bytes = int(args.mem_gb * 1024 * 1024 * 1024) # ç›®æ ‡æ˜¾å­˜è½¬å­—èŠ‚ total_elems = target_bytes // elem_bytes # ç”Ÿæˆ2Då¼ é‡å½¢çŠ¶ï¼ˆä¿è¯æ€»å…ƒç´ æ•°åŒ¹é…ç›®æ ‡æ˜¾å­˜ï¼‰ dim = int(total_elems**0.5) shape = (dim, dim) actual_mem_gb = (dim * dim * elem_bytes) / (1024**3) # 2. åˆ†é…å¼ é‡ï¼ˆç¦ç”¨æ¢¯åº¦ï¼Œæ— è®¡ç®—å›¾ï¼Œä»…å æ˜¾å­˜ï¼‰ tensor = torch.randn(shape, dtype=dtype, device=device, requires_grad=False) # æ ¡éªŒæ˜¾å­˜å ç”¨ allocated_mem_gb = torch.cuda.memory_allocated(device) / (1024**3) print(f"=== åˆå§‹åŒ– ===") print(f"ç›®æ ‡æ˜¾å­˜: {args.mem_gb}GB | å®é™…å ç”¨: {allocated_mem_gb:.4f}GB") print(f"å¼ é‡å½¢çŠ¶: {shape} | æŒç»­è®¡ç®—: {args.duration}ç§’\\n") # 3. æ ¸å¿ƒï¼šåŸåœ°è®¡ç®—æ¶ˆè€—GPUç®—åŠ›ï¼ˆæ— é¢å¤–æ˜¾å­˜å ç”¨ï¼‰ start_time = time.time() try: while time.time() - start_time < args.duration: # åŸåœ°è¿ç®—ï¼ˆæ‰€æœ‰æ“ä½œå‡åœ¨åŸå¼ é‡æ‰§è¡Œï¼Œä¸æ–°å¢æ˜¾å­˜ï¼‰ tensor.add_(random.uniform(0.01, 0.1)) # åŸåœ°åŠ  tensor.mul_(random.uniform(0.9, 1.1)) # åŸåœ°ä¹˜ tensor.sin_() # åŸåœ°æ­£å¼¦ tensor.cos_() # åŸåœ°ä½™å¼¦ torch.cuda.synchronize() # ç¡®ä¿è®¡ç®—å®Œæˆ # æ‰“å°çŠ¶æ€ï¼ˆè¦†ç›–å¼è¾“å‡ºï¼‰ elapsed = int(time.time() - start_time) remaining = max(0, args.duration - elapsed) print( f"å‰©ä½™æ—¶é—´: {remaining:3d}ç§’ | æ˜¾å­˜å ç”¨: {allocated_mem_gb:.4f}GB", end="\\r", ) time.sleep(0.001) # å¾®è°ƒç®—åŠ›å¼ºåº¦ï¼ˆè¶Šå°ç®—åŠ›è¶Šé«˜ï¼‰ except KeyboardInterrupt: print("\\n\\nâš ï¸ æ‰‹åŠ¨ç»ˆæ­¢") finally: # ========== æ ¸å¿ƒï¼šä»…åœ¨é€€å‡ºæ—¶å¼ºåˆ¶flushæ‰€æœ‰è¾“å‡º ========== print("\\n", flush=True) sys.stdout.flush() # æ¸…ç†æ˜¾å­˜ del tensor torch.cuda.empty_cache() final_mem = torch.cuda.memory_allocated(device) / (1024**3) print(f"\\n=== ç»“æŸ ===") print(f"é‡Šæ”¾åæ˜¾å­˜: {final_mem:.4f}GB") if __name__ == "__main__": main() ä½¿ç”¨æ–¹å¼å°±æ˜¯å®¹å™¨æœ‰pytorch ä¾èµ–ï¼Œè°ƒç”¨æ—¶å¦‚ä¸‹:\npython3 gpu_test.py --mem-gb 1 æ¥æ„é€ ä¸€ä¸ª1GB é»˜è®¤5åˆ†é’Ÿçš„gpu è®¡ç®—ä»»åŠ¡\n'><meta property='og:url' content='https://daidaij.github.io/p/gpu-test-python-script/'><meta property='og:site_name' content='æ½˜è¾¾çª'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='python'><meta property='article:published_time' content='2025-12-15T18:30:17+08:00'><meta property='article:modified_time' content='2025-12-15T18:30:17+08:00'><meta property='og:image' content='https://picsum.photos/seed/ac2779a2/800/600'><meta name=twitter:title content="Gpu test python script  "><meta name=twitter:description content='gpu æµ‹è¯•è„šæœ¬ å› ä¸ºé¡¹ç›®èƒŒæ™¯éœ€æ±‚ï¼Œç»å¸¸æµ‹è¯•k8s pod æˆ–è€…job ç›‘æ§çš„gpu æ˜¾å­˜ï¼Œä½¿ç”¨ç‡ç›¸å…³æŒ‡æ ‡ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå·¥å…·è„šæœ¬\nè„šæœ¬å†…å®¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 import argparse import time import random import sys import torch def main(): parser = argparse.ArgumentParser(description="gpu è´Ÿè½½æµ‹è¯•è„šæœ¬") parser.add_argument("--mem-gb", type=float, required=True, help="ç›®æ ‡æ˜¾å­˜å ç”¨(GB)") # ä¸ºdurationæ·»åŠ é»˜è®¤å€¼60ç§’ï¼Œä¸å†å¼ºåˆ¶å¿…å¡« parser.add_argument( "--duration", type=int, default=300, help="æŒç»­æ—¶é—´(ç§’)ï¼Œé»˜è®¤300ç§’" ) args = parser.parse_args() # åŸºç¡€æ£€æŸ¥ if not torch.cuda.is_available(): raise RuntimeError("æœªæ£€æµ‹åˆ°CUDA GPU") torch.cuda.empty_cache() device = torch.device("cuda") # 1. ç²¾å‡†è®¡ç®—å¼ é‡å½¢çŠ¶ï¼ˆæŒ‰å­—èŠ‚çº§æ§åˆ¶æ˜¾å­˜ï¼‰ dtype = torch.float32 # å›ºå®šfloat32ï¼Œæ¯å…ƒç´ 4å­—èŠ‚ï¼Œç®€åŒ–é€»è¾‘ elem_bytes = 4 target_bytes = int(args.mem_gb * 1024 * 1024 * 1024) # ç›®æ ‡æ˜¾å­˜è½¬å­—èŠ‚ total_elems = target_bytes // elem_bytes # ç”Ÿæˆ2Då¼ é‡å½¢çŠ¶ï¼ˆä¿è¯æ€»å…ƒç´ æ•°åŒ¹é…ç›®æ ‡æ˜¾å­˜ï¼‰ dim = int(total_elems**0.5) shape = (dim, dim) actual_mem_gb = (dim * dim * elem_bytes) / (1024**3) # 2. åˆ†é…å¼ é‡ï¼ˆç¦ç”¨æ¢¯åº¦ï¼Œæ— è®¡ç®—å›¾ï¼Œä»…å æ˜¾å­˜ï¼‰ tensor = torch.randn(shape, dtype=dtype, device=device, requires_grad=False) # æ ¡éªŒæ˜¾å­˜å ç”¨ allocated_mem_gb = torch.cuda.memory_allocated(device) / (1024**3) print(f"=== åˆå§‹åŒ– ===") print(f"ç›®æ ‡æ˜¾å­˜: {args.mem_gb}GB | å®é™…å ç”¨: {allocated_mem_gb:.4f}GB") print(f"å¼ é‡å½¢çŠ¶: {shape} | æŒç»­è®¡ç®—: {args.duration}ç§’\\n") # 3. æ ¸å¿ƒï¼šåŸåœ°è®¡ç®—æ¶ˆè€—GPUç®—åŠ›ï¼ˆæ— é¢å¤–æ˜¾å­˜å ç”¨ï¼‰ start_time = time.time() try: while time.time() - start_time < args.duration: # åŸåœ°è¿ç®—ï¼ˆæ‰€æœ‰æ“ä½œå‡åœ¨åŸå¼ é‡æ‰§è¡Œï¼Œä¸æ–°å¢æ˜¾å­˜ï¼‰ tensor.add_(random.uniform(0.01, 0.1)) # åŸåœ°åŠ  tensor.mul_(random.uniform(0.9, 1.1)) # åŸåœ°ä¹˜ tensor.sin_() # åŸåœ°æ­£å¼¦ tensor.cos_() # åŸåœ°ä½™å¼¦ torch.cuda.synchronize() # ç¡®ä¿è®¡ç®—å®Œæˆ # æ‰“å°çŠ¶æ€ï¼ˆè¦†ç›–å¼è¾“å‡ºï¼‰ elapsed = int(time.time() - start_time) remaining = max(0, args.duration - elapsed) print( f"å‰©ä½™æ—¶é—´: {remaining:3d}ç§’ | æ˜¾å­˜å ç”¨: {allocated_mem_gb:.4f}GB", end="\\r", ) time.sleep(0.001) # å¾®è°ƒç®—åŠ›å¼ºåº¦ï¼ˆè¶Šå°ç®—åŠ›è¶Šé«˜ï¼‰ except KeyboardInterrupt: print("\\n\\nâš ï¸ æ‰‹åŠ¨ç»ˆæ­¢") finally: # ========== æ ¸å¿ƒï¼šä»…åœ¨é€€å‡ºæ—¶å¼ºåˆ¶flushæ‰€æœ‰è¾“å‡º ========== print("\\n", flush=True) sys.stdout.flush() # æ¸…ç†æ˜¾å­˜ del tensor torch.cuda.empty_cache() final_mem = torch.cuda.memory_allocated(device) / (1024**3) print(f"\\n=== ç»“æŸ ===") print(f"é‡Šæ”¾åæ˜¾å­˜: {final_mem:.4f}GB") if __name__ == "__main__": main() ä½¿ç”¨æ–¹å¼å°±æ˜¯å®¹å™¨æœ‰pytorch ä¾èµ–ï¼Œè°ƒç”¨æ—¶å¦‚ä¸‹:\npython3 gpu_test.py --mem-gb 1 æ¥æ„é€ ä¸€ä¸ª1GB é»˜è®¤5åˆ†é’Ÿçš„gpu è®¡ç®—ä»»åŠ¡\n'><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://picsum.photos/seed/ac2779a2/800/600'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/panda_hu120629243187970115.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥¤</span></figure><div class=site-meta><h1 class=site-name><a href=/>æ½˜è¾¾çª</a></h1><h2 class=site-description>æ½˜è¾¾å¼ çš„ä¸ªäººåšå®¢</h2></div></header><ol class=menu-social><li><a href=https://daidaij.github.io/ target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/%E5%85%B3%E4%BA%8E/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://daidaij.github.io/en/>English</option><option value=https://daidaij.github.io/ selected>ä¸­æ–‡</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#è„šæœ¬å†…å®¹>è„šæœ¬å†…å®¹</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/gpu-test-python-script/><img src=https://picsum.photos/seed/ac2779a2/800/600 loading=lazy alt="Featured image of post Gpu test python script  "></a></div><div class=article-details><header class=article-category><a href=/categories/tool/>Tool</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/gpu-test-python-script/>Gpu test python script</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Dec 15, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 2 åˆ†é’Ÿ</time></div><div><time class=article-words>831 å­—</time></div></footer></div></header><section class=article-content><iframe frameborder=no border=0 marginwidth=0 marginheight=0 width=100% height=86 src="//music.163.com/outchain/player?type=2&id=5264842&auto=0&height=66"></iframe><h1 id=gpu-æµ‹è¯•è„šæœ¬>gpu æµ‹è¯•è„šæœ¬</h1><blockquote><p>å› ä¸ºé¡¹ç›®èƒŒæ™¯éœ€æ±‚ï¼Œç»å¸¸æµ‹è¯•k8s pod æˆ–è€…job ç›‘æ§çš„gpu æ˜¾å­˜ï¼Œä½¿ç”¨ç‡ç›¸å…³æŒ‡æ ‡ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå·¥å…·è„šæœ¬</p></blockquote><h2 id=è„šæœ¬å†…å®¹>è„šæœ¬å†…å®¹</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>argparse</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>torch</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span><span class=n>description</span><span class=o>=</span><span class=s2>&#34;gpu è´Ÿè½½æµ‹è¯•è„šæœ¬&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s2>&#34;--mem-gb&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>float</span><span class=p>,</span> <span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s2>&#34;ç›®æ ‡æ˜¾å­˜å ç”¨(GB)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># ä¸ºdurationæ·»åŠ é»˜è®¤å€¼60ç§’ï¼Œä¸å†å¼ºåˆ¶å¿…å¡«</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;--duration&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=mi>300</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s2>&#34;æŒç»­æ—¶é—´(ç§’)ï¼Œé»˜è®¤300ç§’&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># åŸºç¡€æ£€æŸ¥</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>torch</span><span class=o>.</span><span class=n>cuda</span><span class=o>.</span><span class=n>is_available</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&#34;æœªæ£€æµ‹åˆ°CUDA GPU&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>torch</span><span class=o>.</span><span class=n>cuda</span><span class=o>.</span><span class=n>empty_cache</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>device</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>device</span><span class=p>(</span><span class=s2>&#34;cuda&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 1. ç²¾å‡†è®¡ç®—å¼ é‡å½¢çŠ¶ï¼ˆæŒ‰å­—èŠ‚çº§æ§åˆ¶æ˜¾å­˜ï¼‰</span>
</span></span><span class=line><span class=cl>    <span class=n>dtype</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>float32</span>  <span class=c1># å›ºå®šfloat32ï¼Œæ¯å…ƒç´ 4å­—èŠ‚ï¼Œç®€åŒ–é€»è¾‘</span>
</span></span><span class=line><span class=cl>    <span class=n>elem_bytes</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>    <span class=n>target_bytes</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>mem_gb</span> <span class=o>*</span> <span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>)</span>  <span class=c1># ç›®æ ‡æ˜¾å­˜è½¬å­—èŠ‚</span>
</span></span><span class=line><span class=cl>    <span class=n>total_elems</span> <span class=o>=</span> <span class=n>target_bytes</span> <span class=o>//</span> <span class=n>elem_bytes</span>
</span></span><span class=line><span class=cl>    <span class=c1># ç”Ÿæˆ2Då¼ é‡å½¢çŠ¶ï¼ˆä¿è¯æ€»å…ƒç´ æ•°åŒ¹é…ç›®æ ‡æ˜¾å­˜ï¼‰</span>
</span></span><span class=line><span class=cl>    <span class=n>dim</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>total_elems</span><span class=o>**</span><span class=mf>0.5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>shape</span> <span class=o>=</span> <span class=p>(</span><span class=n>dim</span><span class=p>,</span> <span class=n>dim</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>actual_mem_gb</span> <span class=o>=</span> <span class=p>(</span><span class=n>dim</span> <span class=o>*</span> <span class=n>dim</span> <span class=o>*</span> <span class=n>elem_bytes</span><span class=p>)</span> <span class=o>/</span> <span class=p>(</span><span class=mi>1024</span><span class=o>**</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 2. åˆ†é…å¼ é‡ï¼ˆç¦ç”¨æ¢¯åº¦ï¼Œæ— è®¡ç®—å›¾ï¼Œä»…å æ˜¾å­˜ï¼‰</span>
</span></span><span class=line><span class=cl>    <span class=n>tensor</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=n>shape</span><span class=p>,</span> <span class=n>dtype</span><span class=o>=</span><span class=n>dtype</span><span class=p>,</span> <span class=n>device</span><span class=o>=</span><span class=n>device</span><span class=p>,</span> <span class=n>requires_grad</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># æ ¡éªŒæ˜¾å­˜å ç”¨</span>
</span></span><span class=line><span class=cl>    <span class=n>allocated_mem_gb</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>cuda</span><span class=o>.</span><span class=n>memory_allocated</span><span class=p>(</span><span class=n>device</span><span class=p>)</span> <span class=o>/</span> <span class=p>(</span><span class=mi>1024</span><span class=o>**</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;=== åˆå§‹åŒ– ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;ç›®æ ‡æ˜¾å­˜: </span><span class=si>{</span><span class=n>args</span><span class=o>.</span><span class=n>mem_gb</span><span class=si>}</span><span class=s2>GB | å®é™…å ç”¨: </span><span class=si>{</span><span class=n>allocated_mem_gb</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>GB&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;å¼ é‡å½¢çŠ¶: </span><span class=si>{</span><span class=n>shape</span><span class=si>}</span><span class=s2> | æŒç»­è®¡ç®—: </span><span class=si>{</span><span class=n>args</span><span class=o>.</span><span class=n>duration</span><span class=si>}</span><span class=s2>ç§’</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 3. æ ¸å¿ƒï¼šåŸåœ°è®¡ç®—æ¶ˆè€—GPUç®—åŠ›ï¼ˆæ— é¢å¤–æ˜¾å­˜å ç”¨ï¼‰</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span> <span class=o>&lt;</span> <span class=n>args</span><span class=o>.</span><span class=n>duration</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># åŸåœ°è¿ç®—ï¼ˆæ‰€æœ‰æ“ä½œå‡åœ¨åŸå¼ é‡æ‰§è¡Œï¼Œä¸æ–°å¢æ˜¾å­˜ï¼‰</span>
</span></span><span class=line><span class=cl>            <span class=n>tensor</span><span class=o>.</span><span class=n>add_</span><span class=p>(</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mf>0.01</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>))</span>  <span class=c1># åŸåœ°åŠ </span>
</span></span><span class=line><span class=cl>            <span class=n>tensor</span><span class=o>.</span><span class=n>mul_</span><span class=p>(</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mf>0.9</span><span class=p>,</span> <span class=mf>1.1</span><span class=p>))</span>  <span class=c1># åŸåœ°ä¹˜</span>
</span></span><span class=line><span class=cl>            <span class=n>tensor</span><span class=o>.</span><span class=n>sin_</span><span class=p>()</span>  <span class=c1># åŸåœ°æ­£å¼¦</span>
</span></span><span class=line><span class=cl>            <span class=n>tensor</span><span class=o>.</span><span class=n>cos_</span><span class=p>()</span>  <span class=c1># åŸåœ°ä½™å¼¦</span>
</span></span><span class=line><span class=cl>            <span class=n>torch</span><span class=o>.</span><span class=n>cuda</span><span class=o>.</span><span class=n>synchronize</span><span class=p>()</span>  <span class=c1># ç¡®ä¿è®¡ç®—å®Œæˆ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1># æ‰“å°çŠ¶æ€ï¼ˆè¦†ç›–å¼è¾“å‡ºï¼‰</span>
</span></span><span class=line><span class=cl>            <span class=n>elapsed</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>remaining</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>args</span><span class=o>.</span><span class=n>duration</span> <span class=o>-</span> <span class=n>elapsed</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=sa>f</span><span class=s2>&#34;å‰©ä½™æ—¶é—´: </span><span class=si>{</span><span class=n>remaining</span><span class=si>:</span><span class=s2>3d</span><span class=si>}</span><span class=s2>ç§’ | æ˜¾å­˜å ç”¨: </span><span class=si>{</span><span class=n>allocated_mem_gb</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>GB&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>end</span><span class=o>=</span><span class=s2>&#34;</span><span class=se>\r</span><span class=s2>&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.001</span><span class=p>)</span>  <span class=c1># å¾®è°ƒç®—åŠ›å¼ºåº¦ï¼ˆè¶Šå°ç®—åŠ›è¶Šé«˜ï¼‰</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>KeyboardInterrupt</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n\n</span><span class=s2>âš ï¸ æ‰‹åŠ¨ç»ˆæ­¢&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ========== æ ¸å¿ƒï¼šä»…åœ¨é€€å‡ºæ—¶å¼ºåˆ¶flushæ‰€æœ‰è¾“å‡º ==========</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>,</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1># æ¸…ç†æ˜¾å­˜</span>
</span></span><span class=line><span class=cl>        <span class=k>del</span> <span class=n>tensor</span>
</span></span><span class=line><span class=cl>        <span class=n>torch</span><span class=o>.</span><span class=n>cuda</span><span class=o>.</span><span class=n>empty_cache</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>final_mem</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>cuda</span><span class=o>.</span><span class=n>memory_allocated</span><span class=p>(</span><span class=n>device</span><span class=p>)</span> <span class=o>/</span> <span class=p>(</span><span class=mi>1024</span><span class=o>**</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== ç»“æŸ ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;é‡Šæ”¾åæ˜¾å­˜: </span><span class=si>{</span><span class=n>final_mem</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>GB&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>ä½¿ç”¨æ–¹å¼å°±æ˜¯å®¹å™¨æœ‰pytorch ä¾èµ–ï¼Œè°ƒç”¨æ—¶å¦‚ä¸‹:<br><code>python3 gpu_test.py --mem-gb 1</code> æ¥æ„é€ ä¸€ä¸ª1GB é»˜è®¤5åˆ†é’Ÿçš„gpu è®¡ç®—ä»»åŠ¡</p></section><footer class=article-footer><section class=article-tags><a href=/tags/python/>Python</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 pandazhangs</section><section class=powerby>å¾€æ—¥å·²ç»ä¸åœ¨ï¼Œæœªæ¥å°šæœªå¼€å§‹<br>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>